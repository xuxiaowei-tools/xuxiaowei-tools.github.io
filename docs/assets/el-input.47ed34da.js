import{Y as Fe,Z as Qe,$ as ne,H,a0 as Re,m as a,r as N,f,a1 as Je,a2 as De,a3 as et,a as Oe,b as tt,u as at,a4 as se,a5 as ke,a6 as ot,i as le,j as nt,a7 as st,a8 as lt,B as rt,C as it,g as ut,h as ct,k as ze,a9 as re,aa as dt,ab as pt,ac as ft,t as _,D as vt,ad as mt,ae as ht,w as yt,af as bt,o as m,c as I,U as y,Q as ie,p as g,q as G,l as A,T as C,P as B,ag as X,ah as M,ai as ue,O as gt,aj as wt,s as xt,ak as Et,y as Y,z as St,_ as It,al as Te,I as Ct}from"./index.ec3f53cf.js";function Pt(t){return t==null}function V(t){var s;const n=a(t);return(s=n==null?void 0:n.$el)!=null?s:n}const fe=Fe?window:void 0;function q(...t){let s,n,o,r;if(Qe(t[0])?([n,o,r]=t,s=fe):[s,n,o,r]=t,!s)return ne;let d=ne;const i=H(()=>V(s),u=>{d(),u&&(u.addEventListener(n,o,r),d=()=>{u.removeEventListener(n,o,r),d=ne})},{immediate:!0,flush:"post"}),v=()=>{i(),d()};return Re(v),v}function Xt(t,s,n={}){const{window:o=fe,ignore:r,capture:d=!0,detectIframe:i=!1}=n;if(!o)return;const v=N(!0);let u;const b=h=>{o.clearTimeout(u);const x=V(t),E=h.composedPath();!x||x===h.target||E.includes(x)||!v.value||r&&r.length>0&&r.some(l=>{const k=V(l);return k&&(h.target===k||E.includes(k))})||s(h)},w=[q(o,"click",b,{passive:!0,capture:d}),q(o,"pointerdown",h=>{const x=V(t);v.value=!!x&&!h.composedPath().includes(x)},{passive:!0}),q(o,"pointerup",h=>{if(h.button===0){const x=h.composedPath();h.composedPath=()=>x,u=o.setTimeout(()=>b(h),50)}},{passive:!0}),i&&q(o,"blur",h=>{var x;const E=V(t);((x=document.activeElement)==null?void 0:x.tagName)==="IFRAME"&&!(E!=null&&E.contains(document.activeElement))&&s(h)})].filter(Boolean);return()=>w.forEach(h=>h())}const ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de="__vueuse_ssr_handlers__";ce[de]=ce[de]||{};ce[de];var _e=Object.getOwnPropertySymbols,$t=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,Ot=(t,s)=>{var n={};for(var o in t)$t.call(t,o)&&s.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&_e)for(var o of _e(t))s.indexOf(o)<0&&Nt.call(t,o)&&(n[o]=t[o]);return n};function kt(t,s,n={}){const o=n,{window:r=fe}=o,d=Ot(o,["window"]);let i;const v=r&&"ResizeObserver"in r,u=()=>{i&&(i.disconnect(),i=void 0)},b=H(()=>V(t),p=>{u(),v&&r&&p&&(i=new ResizeObserver(s),i.observe(p,d))},{immediate:!0,flush:"post"}),w=()=>{u(),b()};return Re(w),{isSupported:v,stop:w}}var Ae;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(Ae||(Ae={}));class zt extends Error{constructor(s){super(s),this.name="ElementPlusError"}}function Yt(t,s){throw new zt(`[${t}] ${s}`)}function qt(t,s){}const Qt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},pe="update:modelValue",Jt="change",Tt=t=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(t),_t=["class","style"],At=/^on[A-Z]/,Vt=(t={})=>{const{excludeListeners:s=!1,excludeKeys:n}=t,o=f(()=>((n==null?void 0:n.value)||[]).concat(_t)),r=De();return r?f(()=>{var d;return Je(Object.entries((d=r.proxy)==null?void 0:d.$attrs).filter(([i])=>!o.value.includes(i)&&!(s&&At.test(i))))}):f(()=>({}))},Ve=N(0),ea=()=>{const t=et("zIndex",2e3),s=f(()=>t.value+Ve.value);return{initialZIndex:t,currentZIndex:s,nextZIndex:()=>(Ve.value++,s.value)}};function Lt(t){const s=N();function n(){if(t.value==null)return;const{selectionStart:r,selectionEnd:d,value:i}=t.value;if(r==null||d==null)return;const v=i.slice(0,Math.max(0,r)),u=i.slice(Math.max(0,d));s.value={selectionStart:r,selectionEnd:d,value:i,beforeTxt:v,afterTxt:u}}function o(){if(t.value==null||s.value==null)return;const{value:r}=t.value,{beforeTxt:d,afterTxt:i,selectionStart:v}=s.value;if(d==null||i==null||v==null)return;let u=r.length;if(r.endsWith(i))u=r.length-i.length;else if(r.startsWith(d))u=d.length;else{const b=d[v-1],w=r.indexOf(b,v-1);w!==-1&&(u=w+1)}t.value.setSelectionRange(u,u)}return[n,o]}let S;const Ft=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Rt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Dt(t){const s=window.getComputedStyle(t),n=s.getPropertyValue("box-sizing"),o=Number.parseFloat(s.getPropertyValue("padding-bottom"))+Number.parseFloat(s.getPropertyValue("padding-top")),r=Number.parseFloat(s.getPropertyValue("border-bottom-width"))+Number.parseFloat(s.getPropertyValue("border-top-width"));return{contextStyle:Rt.map(i=>`${i}:${s.getPropertyValue(i)}`).join(";"),paddingSize:o,borderSize:r,boxSizing:n}}function Le(t,s=1,n){var o;S||(S=document.createElement("textarea"),document.body.appendChild(S));const{paddingSize:r,borderSize:d,boxSizing:i,contextStyle:v}=Dt(t);S.setAttribute("style",`${v};${Ft}`),S.value=t.value||t.placeholder||"";let u=S.scrollHeight;const b={};i==="border-box"?u=u+d:i==="content-box"&&(u=u-r),S.value="";const w=S.scrollHeight-r;if(Oe(s)){let p=w*s;i==="border-box"&&(p=p+r+d),u=Math.max(p,u),b.minHeight=`${p}px`}if(Oe(n)){let p=w*n;i==="border-box"&&(p=p+r+d),u=Math.min(p,u)}return b.height=`${u}px`,(o=S.parentNode)==null||o.removeChild(S),S=void 0,b}const Bt=tt({id:{type:String,default:void 0},size:at,disabled:Boolean,modelValue:{type:se([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:se([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ke,default:""},prefixIcon:{type:ke,default:""},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:se([Object,Array,String]),default:()=>ot({})}}),Mt={[pe]:t=>le(t),input:t=>le(t),change:t=>le(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},Ht=["role"],jt=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder"],Ut=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],Wt={name:"ElInput",inheritAttrs:!1},Kt=nt({...Wt,props:Bt,emits:Mt,setup(t,{expose:s,emit:n}){const o=t,r={suffix:"append",prefix:"prepend"},d=De(),i=st(),v=lt(),u=f(()=>{const e={};return o.containerRole==="combobox"&&(e["aria-haspopup"]=i["aria-haspopup"],e["aria-owns"]=i["aria-owns"],e["aria-expanded"]=i["aria-expanded"]),e}),b=Vt({excludeKeys:f(()=>Object.keys(u.value))}),{form:w,formItem:p}=rt(),{inputId:h}=it(o,{formItemContext:p}),x=ut(),E=ct(),l=ze("input"),k=ze("textarea"),j=re(),z=re(),L=N(!1),Q=N(!1),F=N(!1),U=N(!1),ve=N(),J=re(o.inputStyle),R=f(()=>j.value||z.value),me=f(()=>{var e;return(e=w==null?void 0:w.statusIcon)!=null?e:!1}),D=f(()=>(p==null?void 0:p.validateState)||""),he=f(()=>D.value&&dt[D.value]),Be=f(()=>U.value?pt:ft),Me=f(()=>[i.style,o.inputStyle]),ye=f(()=>[o.inputStyle,J.value,{resize:o.resize}]),P=f(()=>Pt(o.modelValue)?"":String(o.modelValue)),W=f(()=>o.clearable&&!E.value&&!o.readonly&&!!P.value&&(L.value||Q.value)),ee=f(()=>o.showPassword&&!E.value&&!o.readonly&&!!P.value&&(!!P.value||L.value)),T=f(()=>o.showWordLimit&&!!b.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!E.value&&!o.readonly&&!o.showPassword),te=f(()=>Array.from(P.value).length),He=f(()=>!!T.value&&te.value>Number(b.value.maxlength)),je=f(()=>!!v.suffix||!!o.suffixIcon||W.value||o.showPassword||T.value||!!D.value&&me.value),[Ue,We]=Lt(j);kt(z,e=>{if(!T.value||o.resize!=="both")return;const c=e[0],{width:$}=c.contentRect;ve.value={right:`calc(100% - ${$+15+6}px)`}});const K=()=>{const{type:e,autosize:c}=o;if(!(!Fe||e!=="textarea"))if(c){const $=Te(c)?c.minRows:void 0,O=Te(c)?c.maxRows:void 0;J.value={...Le(z.value,$,O)}}else J.value={minHeight:Le(z.value).minHeight}},Z=()=>{const e=R.value;!e||e.value===P.value||(e.value=P.value)},be=e=>{const{el:c}=d.vnode;if(!c)return;const O=Array.from(c.querySelectorAll(`.${l.e(e)}`)).find(qe=>qe.parentNode===c);if(!O)return;const Ne=r[e];v[Ne]?O.style.transform=`translateX(${e==="suffix"?"-":""}${c.querySelector(`.${l.be("group",Ne)}`).offsetWidth}px)`:O.removeAttribute("style")},ae=()=>{be("prefix"),be("suffix")},oe=async e=>{Ue();let{value:c}=e.target;o.formatter&&(c=o.parser?o.parser(c):c,c=o.formatter(c)),!F.value&&c!==P.value&&(n(pe,c),n("input",c),await _(),Z(),We())},ge=e=>{n("change",e.target.value)},we=e=>{n("compositionstart",e),F.value=!0},xe=e=>{var c;n("compositionupdate",e);const $=(c=e.target)==null?void 0:c.value,O=$[$.length-1]||"";F.value=!Tt(O)},Ee=e=>{n("compositionend",e),F.value&&(F.value=!1,oe(e))},Ke=()=>{U.value=!U.value,Se()},Se=async()=>{var e;await _(),(e=R.value)==null||e.focus()},Ze=()=>{var e;return(e=R.value)==null?void 0:e.blur()},Ie=e=>{L.value=!0,n("focus",e)},Ce=e=>{var c;L.value=!1,n("blur",e),o.validateEvent&&((c=p==null?void 0:p.validate)==null||c.call(p,"blur").catch($=>void 0))},Ge=e=>{Q.value=!1,n("mouseleave",e)},Xe=e=>{Q.value=!0,n("mouseenter",e)},Pe=e=>{n("keydown",e)},Ye=()=>{var e;(e=R.value)==null||e.select()},$e=()=>{n(pe,""),n("change",""),n("clear"),n("input","")};return H(()=>o.modelValue,()=>{var e;_(()=>K()),o.validateEvent&&((e=p==null?void 0:p.validate)==null||e.call(p,"change").catch(c=>void 0))}),H(P,()=>Z()),H(()=>o.type,async()=>{await _(),Z(),K(),ae()}),vt(async()=>{!o.formatter&&o.parser,Z(),ae(),await _(),K()}),mt(async()=>{await _(),ae()}),s({input:j,textarea:z,ref:R,textareaStyle:ye,autosize:ht(o,"autosize"),focus:Se,blur:Ze,select:Ye,clear:$e,resizeTextarea:K}),(e,c)=>yt((m(),I("div",ue(a(u),{class:[e.type==="textarea"?a(k).b():a(l).b(),a(l).m(a(x)),a(l).is("disabled",a(E)),a(l).is("exceed",a(He)),{[a(l).b("group")]:e.$slots.prepend||e.$slots.append,[a(l).bm("group","append")]:e.$slots.append,[a(l).bm("group","prepend")]:e.$slots.prepend,[a(l).m("prefix")]:e.$slots.prefix||e.prefixIcon,[a(l).m("suffix")]:e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword,[a(l).bm("suffix","password-clear")]:a(W)&&a(ee)},e.$attrs.class],style:a(Me),role:e.containerRole,onMouseenter:Xe,onMouseleave:Ge}),[y(" input "),e.type!=="textarea"?(m(),I(ie,{key:0},[y(" prepend slot "),e.$slots.prepend?(m(),I("div",{key:0,class:g(a(l).be("group","prepend"))},[G(e.$slots,"prepend")],2)):y("v-if",!0),A("div",{class:g([a(l).e("wrapper"),a(l).is("focus",L.value)])},[y(" prefix slot "),e.$slots.prefix||e.prefixIcon?(m(),I("span",{key:0,class:g(a(l).e("prefix"))},[A("span",{class:g(a(l).e("prefix-inner"))},[G(e.$slots,"prefix"),e.prefixIcon?(m(),C(a(M),{key:0,class:g(a(l).e("icon"))},{default:B(()=>[(m(),C(X(e.prefixIcon)))]),_:1},8,["class"])):y("v-if",!0)],2)],2)):y("v-if",!0),A("input",ue({id:a(h),ref_key:"input",ref:j,class:a(l).e("inner")},a(b),{type:e.showPassword?U.value?"text":"password":e.type,disabled:a(E),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,onCompositionstart:we,onCompositionupdate:xe,onCompositionend:Ee,onInput:oe,onFocus:Ie,onBlur:Ce,onChange:ge,onKeydown:Pe}),null,16,jt),y(" suffix slot "),a(je)?(m(),I("span",{key:1,class:g(a(l).e("suffix"))},[A("span",{class:g(a(l).e("suffix-inner"))},[!a(W)||!a(ee)||!a(T)?(m(),I(ie,{key:0},[G(e.$slots,"suffix"),e.suffixIcon?(m(),C(a(M),{key:0,class:g(a(l).e("icon"))},{default:B(()=>[(m(),C(X(e.suffixIcon)))]),_:1},8,["class"])):y("v-if",!0)],64)):y("v-if",!0),a(W)?(m(),C(a(M),{key:1,class:g([a(l).e("icon"),a(l).e("clear")]),onMousedown:xt(a(Et),["prevent"]),onClick:$e},{default:B(()=>[gt(a(wt))]),_:1},8,["class","onMousedown"])):y("v-if",!0),a(ee)?(m(),C(a(M),{key:2,class:g([a(l).e("icon"),a(l).e("password")]),onClick:Ke},{default:B(()=>[(m(),C(X(a(Be))))]),_:1},8,["class"])):y("v-if",!0),a(T)?(m(),I("span",{key:3,class:g(a(l).e("count"))},[A("span",{class:g(a(l).e("count-inner"))},Y(a(te))+" / "+Y(a(b).maxlength),3)],2)):y("v-if",!0),a(D)&&a(he)&&a(me)?(m(),C(a(M),{key:4,class:g([a(l).e("icon"),a(l).e("validateIcon"),a(l).is("loading",a(D)==="validating")])},{default:B(()=>[(m(),C(X(a(he))))]),_:1},8,["class"])):y("v-if",!0)],2)],2)):y("v-if",!0)],2),y(" append slot "),e.$slots.append?(m(),I("div",{key:1,class:g(a(l).be("group","append"))},[G(e.$slots,"append")],2)):y("v-if",!0)],64)):(m(),I(ie,{key:1},[y(" textarea "),A("textarea",ue({id:a(h),ref_key:"textarea",ref:z,class:a(k).e("inner")},a(b),{tabindex:e.tabindex,disabled:a(E),readonly:e.readonly,autocomplete:e.autocomplete,style:a(ye),"aria-label":e.label,placeholder:e.placeholder,onCompositionstart:we,onCompositionupdate:xe,onCompositionend:Ee,onInput:oe,onFocus:Ie,onBlur:Ce,onChange:ge,onKeydown:Pe}),null,16,Ut),a(T)?(m(),I("span",{key:0,style:St(ve.value),class:g(a(l).e("count"))},Y(a(te))+" / "+Y(a(b).maxlength),7)):y("v-if",!0)],64))],16,Ht)),[[bt,e.type!=="hidden"]])}});var Zt=It(Kt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const ta=Ct(Zt);export{Jt as C,ta as E,pe as U,Qt as a,kt as b,V as c,qt as d,ea as e,Tt as f,Pt as i,Xt as o,Yt as t,q as u};
